import {
  __commonJS
} from "./chunk-OL46QLBJ.js";

// node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js
var require_discount_lodash = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function memoize(fn) {
      var result = null;
      var memoized = function() {
        if (result == null) {
          result = fn();
        }
        return result;
      };
      return memoized;
    }
    exports.memoize = memoize;
    function without(items, item) {
      return items.filter(function(i) {
        return i !== item;
      });
    }
    exports.without = without;
    function union(itemsA, itemsB) {
      var set = /* @__PURE__ */ new Set();
      var insertItem = function(item) {
        return set.add(item);
      };
      itemsA.forEach(insertItem);
      itemsB.forEach(insertItem);
      var result = [];
      set.forEach(function(key) {
        return result.push(key);
      });
      return result;
    }
    exports.union = union;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js
var require_EnterLeaveCounter = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var discount_lodash_1 = require_discount_lodash();
    var EnterLeaveCounter = (
      /** @class */
      function() {
        function EnterLeaveCounter2(isNodeInDocument) {
          this.entered = [];
          this.isNodeInDocument = isNodeInDocument;
        }
        EnterLeaveCounter2.prototype.enter = function(enteringNode) {
          var _this = this;
          var previousLength = this.entered.length;
          var isNodeEntered = function(node) {
            return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));
          };
          this.entered = discount_lodash_1.union(this.entered.filter(isNodeEntered), [enteringNode]);
          return previousLength === 0 && this.entered.length > 0;
        };
        EnterLeaveCounter2.prototype.leave = function(leavingNode) {
          var previousLength = this.entered.length;
          this.entered = discount_lodash_1.without(this.entered.filter(this.isNodeInDocument), leavingNode);
          return previousLength > 0 && this.entered.length === 0;
        };
        EnterLeaveCounter2.prototype.reset = function() {
          this.entered = [];
        };
        return EnterLeaveCounter2;
      }()
    );
    exports.default = EnterLeaveCounter;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js
var require_BrowserDetector = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var discount_lodash_1 = require_discount_lodash();
    exports.isFirefox = discount_lodash_1.memoize(function() {
      return /firefox/i.test(navigator.userAgent);
    });
    exports.isSafari = discount_lodash_1.memoize(function() {
      return Boolean(window.safari);
    });
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js
var require_MonotonicInterpolant = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MonotonicInterpolant = (
      /** @class */
      function() {
        function MonotonicInterpolant2(xs, ys) {
          var length = xs.length;
          var indexes = [];
          for (var i = 0; i < length; i++) {
            indexes.push(i);
          }
          indexes.sort(function(a, b) {
            return xs[a] < xs[b] ? -1 : 1;
          });
          var dys = [];
          var dxs = [];
          var ms = [];
          var dx;
          var dy;
          for (var i = 0; i < length - 1; i++) {
            dx = xs[i + 1] - xs[i];
            dy = ys[i + 1] - ys[i];
            dxs.push(dx);
            dys.push(dy);
            ms.push(dy / dx);
          }
          var c1s = [ms[0]];
          for (var i = 0; i < dxs.length - 1; i++) {
            var m2 = ms[i];
            var mNext = ms[i + 1];
            if (m2 * mNext <= 0) {
              c1s.push(0);
            } else {
              dx = dxs[i];
              var dxNext = dxs[i + 1];
              var common = dx + dxNext;
              c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));
            }
          }
          c1s.push(ms[ms.length - 1]);
          var c2s = [];
          var c3s = [];
          var m;
          for (var i = 0; i < c1s.length - 1; i++) {
            m = ms[i];
            var c1 = c1s[i];
            var invDx = 1 / dxs[i];
            var common = c1 + c1s[i + 1] - m - m;
            c2s.push((m - c1 - common) * invDx);
            c3s.push(common * invDx * invDx);
          }
          this.xs = xs;
          this.ys = ys;
          this.c1s = c1s;
          this.c2s = c2s;
          this.c3s = c3s;
        }
        MonotonicInterpolant2.prototype.interpolate = function(x) {
          var _a = this, xs = _a.xs, ys = _a.ys, c1s = _a.c1s, c2s = _a.c2s, c3s = _a.c3s;
          var i = xs.length - 1;
          if (x === xs[i]) {
            return ys[i];
          }
          var low = 0;
          var high = c3s.length - 1;
          var mid;
          while (low <= high) {
            mid = Math.floor(0.5 * (low + high));
            var xHere = xs[mid];
            if (xHere < x) {
              low = mid + 1;
            } else if (xHere > x) {
              high = mid - 1;
            } else {
              return ys[mid];
            }
          }
          i = Math.max(0, high);
          var diff = x - xs[i];
          var diffSq = diff * diff;
          return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;
        };
        return MonotonicInterpolant2;
      }()
    );
    exports.default = MonotonicInterpolant;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js
var require_OffsetUtils = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var BrowserDetector_1 = require_BrowserDetector();
    var MonotonicInterpolant_1 = require_MonotonicInterpolant();
    var ELEMENT_NODE = 1;
    function getNodeClientOffset(node) {
      var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;
      if (!el) {
        return null;
      }
      var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;
      return { x: left, y: top };
    }
    exports.getNodeClientOffset = getNodeClientOffset;
    function getEventClientOffset(e) {
      return {
        x: e.clientX,
        y: e.clientY
      };
    }
    exports.getEventClientOffset = getEventClientOffset;
    function isImageNode(node) {
      return node.nodeName === "IMG" && (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node));
    }
    function getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {
      var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;
      var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;
      if (BrowserDetector_1.isSafari() && isImage) {
        dragPreviewHeight /= window.devicePixelRatio;
        dragPreviewWidth /= window.devicePixelRatio;
      }
      return { dragPreviewWidth, dragPreviewHeight };
    }
    function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {
      var isImage = isImageNode(dragPreview);
      var dragPreviewNode = isImage ? sourceNode : dragPreview;
      var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);
      var offsetFromDragPreview = {
        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,
        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y
      };
      var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;
      var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;
      var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;
      var calculateYOffset = function() {
        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [
          // Dock to the top
          offsetFromDragPreview.y,
          // Align at the center
          offsetFromDragPreview.y / sourceHeight * dragPreviewHeight,
          // Dock to the bottom
          offsetFromDragPreview.y + dragPreviewHeight - sourceHeight
        ]);
        var y = interpolantY.interpolate(anchorY);
        if (BrowserDetector_1.isSafari() && isImage) {
          y += (window.devicePixelRatio - 1) * dragPreviewHeight;
        }
        return y;
      };
      var calculateXOffset = function() {
        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [
          // Dock to the left
          offsetFromDragPreview.x,
          // Align at the center
          offsetFromDragPreview.x / sourceWidth * dragPreviewWidth,
          // Dock to the right
          offsetFromDragPreview.x + dragPreviewWidth - sourceWidth
        ]);
        return interpolantX.interpolate(anchorX);
      };
      var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;
      var isManualOffsetX = offsetX === 0 || offsetX;
      var isManualOffsetY = offsetY === 0 || offsetY;
      return {
        x: isManualOffsetX ? offsetX : calculateXOffset(),
        y: isManualOffsetY ? offsetY : calculateYOffset()
      };
    }
    exports.getDragPreviewOffset = getDragPreviewOffset;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js
var require_NativeTypes = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.FILE = "__NATIVE_FILE__";
    exports.URL = "__NATIVE_URL__";
    exports.TEXT = "__NATIVE_TEXT__";
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js
var require_getDataFromDataTransfer = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {
      var result = typesToTry.reduce(function(resultSoFar, typeToTry) {
        return resultSoFar || dataTransfer.getData(typeToTry);
      }, "");
      return result != null ? result : defaultValue;
    }
    exports.getDataFromDataTransfer = getDataFromDataTransfer;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js
var require_nativeTypesConfig = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js"(exports) {
    "use strict";
    var _a;
    Object.defineProperty(exports, "__esModule", { value: true });
    var NativeTypes = require_NativeTypes();
    var getDataFromDataTransfer_1 = require_getDataFromDataTransfer();
    exports.nativeTypesConfig = (_a = {}, _a[NativeTypes.FILE] = {
      exposeProperties: {
        files: function(dataTransfer) {
          return Array.prototype.slice.call(dataTransfer.files);
        },
        items: function(dataTransfer) {
          return dataTransfer.items;
        }
      },
      matchesTypes: ["Files"]
    }, _a[NativeTypes.URL] = {
      exposeProperties: {
        urls: function(dataTransfer, matchesTypes) {
          return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, "").split("\n");
        }
      },
      matchesTypes: ["Url", "text/uri-list"]
    }, _a[NativeTypes.TEXT] = {
      exposeProperties: {
        text: function(dataTransfer, matchesTypes) {
          return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, "");
        }
      },
      matchesTypes: ["Text", "text/plain"]
    }, _a);
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js
var require_NativeDragSource = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var NativeDragSource = (
      /** @class */
      function() {
        function NativeDragSource2(config) {
          var _this = this;
          this.config = config;
          this.item = {};
          Object.keys(this.config.exposeProperties).forEach(function(property) {
            Object.defineProperty(_this.item, property, {
              configurable: true,
              enumerable: true,
              get: function() {
                console.warn(`Browser doesn't allow reading "` + property + '" until the drop event.');
                return null;
              }
            });
          });
        }
        NativeDragSource2.prototype.mutateItemByReadingDataTransfer = function(dataTransfer) {
          var _this = this;
          var newProperties = {};
          if (dataTransfer) {
            Object.keys(this.config.exposeProperties).forEach(function(property) {
              newProperties[property] = {
                value: _this.config.exposeProperties[property](dataTransfer, _this.config.matchesTypes)
              };
            });
          }
          Object.defineProperties(this.item, newProperties);
        };
        NativeDragSource2.prototype.canDrag = function() {
          return true;
        };
        NativeDragSource2.prototype.beginDrag = function() {
          return this.item;
        };
        NativeDragSource2.prototype.isDragging = function(monitor, handle) {
          return handle === monitor.getSourceId();
        };
        NativeDragSource2.prototype.endDrag = function() {
        };
        return NativeDragSource2;
      }()
    );
    exports.NativeDragSource = NativeDragSource;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js
var require_NativeDragSources = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var nativeTypesConfig_1 = require_nativeTypesConfig();
    var NativeDragSource_1 = require_NativeDragSource();
    function createNativeDragSource(type) {
      return new NativeDragSource_1.NativeDragSource(nativeTypesConfig_1.nativeTypesConfig[type]);
    }
    exports.createNativeDragSource = createNativeDragSource;
    function matchNativeItemType(dataTransfer) {
      if (!dataTransfer) {
        return null;
      }
      var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);
      return Object.keys(nativeTypesConfig_1.nativeTypesConfig).filter(function(nativeItemType) {
        var matchesTypes = nativeTypesConfig_1.nativeTypesConfig[nativeItemType].matchesTypes;
        return matchesTypes.some(function(t) {
          return dataTransferTypes.indexOf(t) > -1;
        });
      })[0] || null;
    }
    exports.matchNativeItemType = matchNativeItemType;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js
var require_HTML5Backend = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js"(exports) {
    "use strict";
    var __assign = exports && exports.__assign || function() {
      __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var EnterLeaveCounter_1 = require_EnterLeaveCounter();
    var BrowserDetector_1 = require_BrowserDetector();
    var OffsetUtils_1 = require_OffsetUtils();
    var NativeDragSources_1 = require_NativeDragSources();
    var NativeTypes = require_NativeTypes();
    var HTML5Backend = (
      /** @class */
      function() {
        function HTML5Backend2(manager) {
          var _this = this;
          this.sourcePreviewNodes = /* @__PURE__ */ new Map();
          this.sourcePreviewNodeOptions = /* @__PURE__ */ new Map();
          this.sourceNodes = /* @__PURE__ */ new Map();
          this.sourceNodeOptions = /* @__PURE__ */ new Map();
          this.dragStartSourceIds = null;
          this.dropTargetIds = [];
          this.dragEnterTargetIds = [];
          this.currentNativeSource = null;
          this.currentNativeHandle = null;
          this.currentDragSourceNode = null;
          this.altKeyPressed = false;
          this.mouseMoveTimeoutTimer = null;
          this.asyncEndDragFrameId = null;
          this.dragOverTargetIds = null;
          this.getSourceClientOffset = function(sourceId) {
            return OffsetUtils_1.getNodeClientOffset(_this.sourceNodes.get(sourceId));
          };
          this.endDragNativeItem = function() {
            if (!_this.isDraggingNativeItem()) {
              return;
            }
            _this.actions.endDrag();
            _this.registry.removeSource(_this.currentNativeHandle);
            _this.currentNativeHandle = null;
            _this.currentNativeSource = null;
          };
          this.isNodeInDocument = function(node) {
            return !!document && document.body.contains(node) || !!_this.window && _this.window.document.body.contains(node);
          };
          this.endDragIfSourceWasRemovedFromDOM = function() {
            var node = _this.currentDragSourceNode;
            if (_this.isNodeInDocument(node)) {
              return;
            }
            if (_this.clearCurrentDragSourceNode()) {
              _this.actions.endDrag();
            }
          };
          this.handleTopDragStartCapture = function() {
            _this.clearCurrentDragSourceNode();
            _this.dragStartSourceIds = [];
          };
          this.handleTopDragStart = function(e) {
            var dragStartSourceIds = _this.dragStartSourceIds;
            _this.dragStartSourceIds = null;
            var clientOffset = OffsetUtils_1.getEventClientOffset(e);
            if (_this.monitor.isDragging()) {
              _this.actions.endDrag();
            }
            _this.actions.beginDrag(dragStartSourceIds || [], {
              publishSource: false,
              getSourceClientOffset: _this.getSourceClientOffset,
              clientOffset
            });
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (_this.monitor.isDragging()) {
              if (dataTransfer && typeof dataTransfer.setDragImage === "function") {
                var sourceId = _this.monitor.getSourceId();
                var sourceNode = _this.sourceNodes.get(sourceId);
                var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;
                if (dragPreview) {
                  var _a = _this.getCurrentSourcePreviewNodeOptions(), anchorX = _a.anchorX, anchorY = _a.anchorY, offsetX = _a.offsetX, offsetY = _a.offsetY;
                  var anchorPoint = { anchorX, anchorY };
                  var offsetPoint = { offsetX, offsetY };
                  var dragPreviewOffset = OffsetUtils_1.getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);
                  dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);
                }
              }
              try {
                dataTransfer.setData("application/json", {});
              } catch (err) {
              }
              _this.setCurrentDragSourceNode(e.target);
              var captureDraggingState = _this.getCurrentSourcePreviewNodeOptions().captureDraggingState;
              if (!captureDraggingState) {
                setTimeout(function() {
                  return _this.actions.publishDragSource();
                }, 0);
              } else {
                _this.actions.publishDragSource();
              }
            } else if (nativeType) {
              _this.beginDragNativeItem(nativeType);
            } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute("draggable"))) {
              return;
            } else {
              e.preventDefault();
            }
          };
          this.handleTopDragEndCapture = function() {
            if (_this.clearCurrentDragSourceNode()) {
              _this.actions.endDrag();
            }
          };
          this.handleTopDragEnterCapture = function(e) {
            _this.dragEnterTargetIds = [];
            var isFirstEnter = _this.enterLeaveCounter.enter(e.target);
            if (!isFirstEnter || _this.monitor.isDragging()) {
              return;
            }
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (nativeType) {
              _this.beginDragNativeItem(nativeType);
            }
          };
          this.handleTopDragEnter = function(e) {
            var dragEnterTargetIds = _this.dragEnterTargetIds;
            _this.dragEnterTargetIds = [];
            if (!_this.monitor.isDragging()) {
              return;
            }
            _this.altKeyPressed = e.altKey;
            if (!BrowserDetector_1.isFirefox()) {
              _this.actions.hover(dragEnterTargetIds, {
                clientOffset: OffsetUtils_1.getEventClientOffset(e)
              });
            }
            var canDrop = dragEnterTargetIds.some(function(targetId) {
              return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
              e.preventDefault();
              if (e.dataTransfer) {
                e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
              }
            }
          };
          this.handleTopDragOverCapture = function() {
            _this.dragOverTargetIds = [];
          };
          this.handleTopDragOver = function(e) {
            var dragOverTargetIds = _this.dragOverTargetIds;
            _this.dragOverTargetIds = [];
            if (!_this.monitor.isDragging()) {
              e.preventDefault();
              if (e.dataTransfer) {
                e.dataTransfer.dropEffect = "none";
              }
              return;
            }
            _this.altKeyPressed = e.altKey;
            _this.actions.hover(dragOverTargetIds || [], {
              clientOffset: OffsetUtils_1.getEventClientOffset(e)
            });
            var canDrop = (dragOverTargetIds || []).some(function(targetId) {
              return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
              e.preventDefault();
              if (e.dataTransfer) {
                e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
              }
            } else if (_this.isDraggingNativeItem()) {
              e.preventDefault();
            } else {
              e.preventDefault();
              if (e.dataTransfer) {
                e.dataTransfer.dropEffect = "none";
              }
            }
          };
          this.handleTopDragLeaveCapture = function(e) {
            if (_this.isDraggingNativeItem()) {
              e.preventDefault();
            }
            var isLastLeave = _this.enterLeaveCounter.leave(e.target);
            if (!isLastLeave) {
              return;
            }
            if (_this.isDraggingNativeItem()) {
              _this.endDragNativeItem();
            }
          };
          this.handleTopDropCapture = function(e) {
            _this.dropTargetIds = [];
            e.preventDefault();
            if (_this.isDraggingNativeItem()) {
              _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);
            }
            _this.enterLeaveCounter.reset();
          };
          this.handleTopDrop = function(e) {
            var dropTargetIds = _this.dropTargetIds;
            _this.dropTargetIds = [];
            _this.actions.hover(dropTargetIds, {
              clientOffset: OffsetUtils_1.getEventClientOffset(e)
            });
            _this.actions.drop({ dropEffect: _this.getCurrentDropEffect() });
            if (_this.isDraggingNativeItem()) {
              _this.endDragNativeItem();
            } else {
              _this.endDragIfSourceWasRemovedFromDOM();
            }
          };
          this.handleSelectStart = function(e) {
            var target = e.target;
            if (typeof target.dragDrop !== "function") {
              return;
            }
            if (target.tagName === "INPUT" || target.tagName === "SELECT" || target.tagName === "TEXTAREA" || target.isContentEditable) {
              return;
            }
            e.preventDefault();
            target.dragDrop();
          };
          this.actions = manager.getActions();
          this.monitor = manager.getMonitor();
          this.registry = manager.getRegistry();
          this.context = manager.getContext();
          this.enterLeaveCounter = new EnterLeaveCounter_1.default(this.isNodeInDocument);
        }
        Object.defineProperty(HTML5Backend2.prototype, "window", {
          // public for test
          get: function() {
            if (this.context && this.context.window) {
              return this.context.window;
            } else if (typeof window !== "undefined") {
              return window;
            }
            return void 0;
          },
          enumerable: true,
          configurable: true
        });
        HTML5Backend2.prototype.setup = function() {
          if (this.window === void 0) {
            return;
          }
          if (this.window.__isReactDndBackendSetUp) {
            throw new Error("Cannot have two HTML5 backends at the same time.");
          }
          this.window.__isReactDndBackendSetUp = true;
          this.addEventListeners(this.window);
        };
        HTML5Backend2.prototype.teardown = function() {
          if (this.window === void 0) {
            return;
          }
          this.window.__isReactDndBackendSetUp = false;
          this.removeEventListeners(this.window);
          this.clearCurrentDragSourceNode();
          if (this.asyncEndDragFrameId) {
            this.window.cancelAnimationFrame(this.asyncEndDragFrameId);
          }
        };
        HTML5Backend2.prototype.connectDragPreview = function(sourceId, node, options) {
          var _this = this;
          this.sourcePreviewNodeOptions.set(sourceId, options);
          this.sourcePreviewNodes.set(sourceId, node);
          return function() {
            _this.sourcePreviewNodes.delete(sourceId);
            _this.sourcePreviewNodeOptions.delete(sourceId);
          };
        };
        HTML5Backend2.prototype.connectDragSource = function(sourceId, node, options) {
          var _this = this;
          this.sourceNodes.set(sourceId, node);
          this.sourceNodeOptions.set(sourceId, options);
          var handleDragStart = function(e) {
            return _this.handleDragStart(e, sourceId);
          };
          var handleSelectStart = function(e) {
            return _this.handleSelectStart(e);
          };
          node.setAttribute("draggable", "true");
          node.addEventListener("dragstart", handleDragStart);
          node.addEventListener("selectstart", handleSelectStart);
          return function() {
            _this.sourceNodes.delete(sourceId);
            _this.sourceNodeOptions.delete(sourceId);
            node.removeEventListener("dragstart", handleDragStart);
            node.removeEventListener("selectstart", handleSelectStart);
            node.setAttribute("draggable", "false");
          };
        };
        HTML5Backend2.prototype.connectDropTarget = function(targetId, node) {
          var _this = this;
          var handleDragEnter = function(e) {
            return _this.handleDragEnter(e, targetId);
          };
          var handleDragOver = function(e) {
            return _this.handleDragOver(e, targetId);
          };
          var handleDrop = function(e) {
            return _this.handleDrop(e, targetId);
          };
          node.addEventListener("dragenter", handleDragEnter);
          node.addEventListener("dragover", handleDragOver);
          node.addEventListener("drop", handleDrop);
          return function() {
            node.removeEventListener("dragenter", handleDragEnter);
            node.removeEventListener("dragover", handleDragOver);
            node.removeEventListener("drop", handleDrop);
          };
        };
        HTML5Backend2.prototype.addEventListeners = function(target) {
          if (!target.addEventListener) {
            return;
          }
          target.addEventListener("dragstart", this.handleTopDragStart);
          target.addEventListener("dragstart", this.handleTopDragStartCapture, true);
          target.addEventListener("dragend", this.handleTopDragEndCapture, true);
          target.addEventListener("dragenter", this.handleTopDragEnter);
          target.addEventListener("dragenter", this.handleTopDragEnterCapture, true);
          target.addEventListener("dragleave", this.handleTopDragLeaveCapture, true);
          target.addEventListener("dragover", this.handleTopDragOver);
          target.addEventListener("dragover", this.handleTopDragOverCapture, true);
          target.addEventListener("drop", this.handleTopDrop);
          target.addEventListener("drop", this.handleTopDropCapture, true);
        };
        HTML5Backend2.prototype.removeEventListeners = function(target) {
          if (!target.removeEventListener) {
            return;
          }
          target.removeEventListener("dragstart", this.handleTopDragStart);
          target.removeEventListener("dragstart", this.handleTopDragStartCapture, true);
          target.removeEventListener("dragend", this.handleTopDragEndCapture, true);
          target.removeEventListener("dragenter", this.handleTopDragEnter);
          target.removeEventListener("dragenter", this.handleTopDragEnterCapture, true);
          target.removeEventListener("dragleave", this.handleTopDragLeaveCapture, true);
          target.removeEventListener("dragover", this.handleTopDragOver);
          target.removeEventListener("dragover", this.handleTopDragOverCapture, true);
          target.removeEventListener("drop", this.handleTopDrop);
          target.removeEventListener("drop", this.handleTopDropCapture, true);
        };
        HTML5Backend2.prototype.getCurrentSourceNodeOptions = function() {
          var sourceId = this.monitor.getSourceId();
          var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);
          return __assign({ dropEffect: this.altKeyPressed ? "copy" : "move" }, sourceNodeOptions || {});
        };
        HTML5Backend2.prototype.getCurrentDropEffect = function() {
          if (this.isDraggingNativeItem()) {
            return "copy";
          }
          return this.getCurrentSourceNodeOptions().dropEffect;
        };
        HTML5Backend2.prototype.getCurrentSourcePreviewNodeOptions = function() {
          var sourceId = this.monitor.getSourceId();
          var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);
          return __assign({ anchorX: 0.5, anchorY: 0.5, captureDraggingState: false }, sourcePreviewNodeOptions || {});
        };
        HTML5Backend2.prototype.isDraggingNativeItem = function() {
          var itemType = this.monitor.getItemType();
          return Object.keys(NativeTypes).some(function(key) {
            return NativeTypes[key] === itemType;
          });
        };
        HTML5Backend2.prototype.beginDragNativeItem = function(type) {
          this.clearCurrentDragSourceNode();
          this.currentNativeSource = NativeDragSources_1.createNativeDragSource(type);
          this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);
          this.actions.beginDrag([this.currentNativeHandle]);
        };
        HTML5Backend2.prototype.setCurrentDragSourceNode = function(node) {
          var _this = this;
          this.clearCurrentDragSourceNode();
          this.currentDragSourceNode = node;
          var MOUSE_MOVE_TIMEOUT = 1e3;
          this.mouseMoveTimeoutTimer = setTimeout(function() {
            return _this.window && _this.window.addEventListener("mousemove", _this.endDragIfSourceWasRemovedFromDOM, true);
          }, MOUSE_MOVE_TIMEOUT);
        };
        HTML5Backend2.prototype.clearCurrentDragSourceNode = function() {
          if (this.currentDragSourceNode) {
            this.currentDragSourceNode = null;
            if (this.window) {
              this.window.clearTimeout(this.mouseMoveTimeoutTimer || void 0);
              this.window.removeEventListener("mousemove", this.endDragIfSourceWasRemovedFromDOM, true);
            }
            this.mouseMoveTimeoutTimer = null;
            return true;
          }
          return false;
        };
        HTML5Backend2.prototype.handleDragStart = function(e, sourceId) {
          if (!this.dragStartSourceIds) {
            this.dragStartSourceIds = [];
          }
          this.dragStartSourceIds.unshift(sourceId);
        };
        HTML5Backend2.prototype.handleDragEnter = function(e, targetId) {
          this.dragEnterTargetIds.unshift(targetId);
        };
        HTML5Backend2.prototype.handleDragOver = function(e, targetId) {
          if (this.dragOverTargetIds === null) {
            this.dragOverTargetIds = [];
          }
          this.dragOverTargetIds.unshift(targetId);
        };
        HTML5Backend2.prototype.handleDrop = function(e, targetId) {
          this.dropTargetIds.unshift(targetId);
        };
        return HTML5Backend2;
      }()
    );
    exports.default = HTML5Backend;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js
var require_getEmptyImage = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var emptyImage;
    function getEmptyImage() {
      if (!emptyImage) {
        emptyImage = new Image();
        emptyImage.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
      }
      return emptyImage;
    }
    exports.default = getEmptyImage;
  }
});

// node_modules/react-dnd-html5-backend/lib/cjs/index.js
var require_cjs = __commonJS({
  "node_modules/react-dnd-html5-backend/lib/cjs/index.js"(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    var HTML5Backend_1 = require_HTML5Backend();
    var getEmptyImage_1 = require_getEmptyImage();
    exports.getEmptyImage = getEmptyImage_1.default;
    var NativeTypes = require_NativeTypes();
    exports.NativeTypes = NativeTypes;
    function createHTML5Backend(manager) {
      return new HTML5Backend_1.default(manager);
    }
    exports.default = createHTML5Backend;
  }
});
export default require_cjs();
//# sourceMappingURL=react-dnd-html5-backend.js.map
